extends Node2D

# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export_enum("Soldier", "Xeno") var death_type : int = 0

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _asprite : AnimatedSprite2D = $ASprite

# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _ready() -> void:
	match death_type:
		0: # Soldier
			_asprite.play("soldier")
		1: # Xeno
			_asprite.play("xeno")

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------
func _die() -> void:
	var parent = get_parent()
	if parent != null:
		parent.remove_child(self)
	queue_free()

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------
func _on_asprite_animation_finished():
	_die.call_deferred()
