extends Node2D


# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export_enum("Surface", "Xeno") var hit_type : int = 0

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _asprite : AnimatedSprite2D = $ASprite

# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _ready() -> void:
	match hit_type:
		0: # Surface
			_asprite.play("hit")
		1: # Xeno
			_asprite.play("xeno_hit")

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------
func _die() -> void:
	var parent = get_parent()
	if parent != null:
		parent.remove_child(self)
	queue_free()

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------
func _on_asprite_animation_finished():
	_die.call_deferred()
